/* Stratego.java
 * Brian Quinlivan, Ian McMurray, Andrew McNeil, Michael Jurgiel
 * 12/26/16
 */

import javax.swing.*;
import javax.swing.border.MatteBorder;
import java.awt.*;
import java.awt.event.*;
import java.net.URL; 

public class Stratego extends JFrame implements ActionListener { // Brian Q. 12/24/16 

	private static Stratego game;
	private static JPanel eastPanel;
	private static JPanel piecesPanel;
	private static JPanel board;

	public Stratego() {
		setSize(1024, 800);
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setTitle("Stratego");
		setLayout(new BorderLayout());
		createEastPanel();
	}

	private void createEastPanel() {
		eastPanel = new JPanel();
		eastPanel.setLayout(new BorderLayout());
		ImageIcon strategoImage = createImageIcon("/stratego.png", "stratego");
		JLabel northPanel = new JLabel();
		northPanel.setIcon(strategoImage);
		eastPanel.add(northPanel, BorderLayout.NORTH);
		JPanel buttonPanel = new JPanel();
		buttonPanel.setLayout(new GridLayout(2,1));
	    JButton gameButton = new JButton("New Game");
	    buttonPanel.add(gameButton);
	    JButton instructionsButton = new JButton("Instructions");
	    buttonPanel.add(instructionsButton);
		JButton initializeButton = new JButton("Restart"); // button to randomly place pieces
		buttonPanel.add(initializeButton);
		eastPanel.add(buttonPanel, BorderLayout.SOUTH);
		piecesPanel = new JPanel();
		piecesPanel.setLayout(new GridLayout(4, 3));
		piecesPanel.setBackground(Color.RED);
		eastPanel.setMinimumSize(new Dimension(300, 500)); 
		eastPanel.setPreferredSize(new Dimension(300, 500)); // end Brian Q. 12/24/16 
		//for(int i = 0; i<12; i++) {
		//	JLabel label = new JLabel("pieces");
		//	piecesPanel.add(label);
		//}
		
		// creating images
		ImageIcon bomb = createImageIcon("/bomb.jpg", "bomb");
		ImageIcon captain = createImageIcon("/captain6.jpg", "captain");
		ImageIcon colonel = createImageIcon("/colonel8.jpg", "colonel");
		ImageIcon flag = createImageIcon("/flag.jpg", "flag");
		ImageIcon general = createImageIcon("/general9.jpg", "general");
		ImageIcon marshal = createImageIcon("/marshal10.jpg", "marshal");
		ImageIcon scout = createImageIcon("/scout2.jpg", "scout");
		ImageIcon spy = createImageIcon("/spy.jpg", "spy");
		ImageIcon major = createImageIcon("/major7.jpg", "major");
		ImageIcon lieutenent = createImageIcon("/lieutenant5.jpg", "liutenant");
		ImageIcon sergeant = createImageIcon("/sergeant4.jpg", "sergeant");
		ImageIcon miner = createImageIcon("/miner3.jpg", "miner");
		
		JButton button = new JButton(marshal); // Brian Q. 12/31/16
		button.setBorder(new MatteBorder(3,1,3,1, Color.BLACK));
		piecesPanel.add(button);
		button = new JButton(general);
		button.setBorder(new MatteBorder(3,1,3,1, Color.BLACK));
		piecesPanel.add(button);
		button = new JButton(colonel);
		button.setBorder(new MatteBorder(3,1,3,1, Color.BLACK));
		piecesPanel.add(button);
		button = new JButton(major);
		button.setBorder(new MatteBorder(3,1,3,1, Color.BLACK));
		piecesPanel.add(button);
		button = new JButton(captain);
		button.setBorder(new MatteBorder(3,1,3,1, Color.BLACK));
		piecesPanel.add(button);
		button = new JButton(lieutenent);
		button.setBorder(new MatteBorder(3,1,3,1, Color.BLACK));
		piecesPanel.add(button);
		button = new JButton(sergeant);
		button.setBorder(new MatteBorder(3,1,3,1, Color.BLACK));
		piecesPanel.add(button);
		button = new JButton(miner);
		button.setBorder(new MatteBorder(3,1,3,1, Color.BLACK));
		piecesPanel.add(button);
		button = new JButton(scout);
		button.setBorder(new MatteBorder(3,1,3,1, Color.BLACK));
		piecesPanel.add(button);
		button = new JButton(spy);
		button.setBorder(new MatteBorder(3,1,3,1, Color.BLACK));
		piecesPanel.add(button);
		button = new JButton(bomb);
		button.setBorder(new MatteBorder(3,1,3,1, Color.BLACK));
		piecesPanel.add(button);
		button = new JButton(flag);
		button.setBorder(new MatteBorder(3,1,3,1, Color.BLACK));
		piecesPanel.add(button);
		
		eastPanel.add(piecesPanel, BorderLayout.CENTER);
	}

	public static void main(String[] args) {
		game = new Stratego(); // stratego is a frame in class
		buildBoard();
		game.add(eastPanel, BorderLayout.EAST);
		
		game.setVisible(true);
		eastPanel.invalidate();
		eastPanel.repaint();
	} // end main method
	
	private static ImageIcon createImageIcon(String path, String desc) { // wrap images in ImageIcon
		URL url = Stratego.class.getResource(path); // loads image from where class is running
		if(url != null) {
			return new ImageIcon(url, desc);
		}
		
		System.out.println("File not found");
		return null; 
	}

	private static void buildBoard() {

		board = new JPanel();
		board.setLayout(new GridLayout(10, 10));
		board.setBorder(new MatteBorder(2,2,2,2, Color.WHITE));
		ImageIcon grass = createImageIcon("/grass.gif", "grass");
		ImageIcon water = createImageIcon("/water.gif", "water");
		JButton button; 
		
		for(int i = 0; i<100; i++) {
			if(i == 42 || i == 43 || i == 46 || i == 47 || i == 52 || i == 53 || i == 56 || i == 57) {
				button = new JButton("", water); // "" = no text in button
			//	button.setEnabled(false); //turns water grey
			}
			else {
				button = new JButton("", grass); // "" = no text in button
			}
			button.setBorder(BorderFactory.createLineBorder(Color.WHITE));//
			button.addActionListener(game);
			board.add(button);
		}
		
		game.add(board, BorderLayout.CENTER);
		board.setBackground(Color.GRAY);
		game.repaint();
	}

	
	public void actionPerformed(ActionEvent e) {
		Component grassButton = (Component) e.getSource();
		Component[] components = board.getComponents();
		for(int i = 0; i<100; i++) {
			if(components[i] == grassButton) {
				System.out.println("Button Pressed" + i);
			}
		}
		
		System.out.println("Button Pressed"); // end Brian Q. 12/31/16
	}
} // end class Stratego
